# ===============================
# Ontología de Riesgos SST - Colombia (v0.4)
# ===============================
meta:
  version: "0.4"
  lang: "es"
  notes: |
    - Priorizamos LOCATIVOS y MECÁNICOS; ERGONÓMICOS como extra.
    - Tokens pueden venir del detector (YOLO) o de heurísticas (edge_open, ladder, ladder_like, person_on_ladder)
      y de pose (sitting_posture, etc. via MediaPipe).
    - Las recomendaciones siguen la jerarquía de control.

# -------------------------------
# Contextos (se activan con tokens característicos)
# -------------------------------
contexts:
  construction:
    any: ["scaffold", "ladder", "ladder_like", "rebar", "edge_open"]
  warehouse:
    any: ["pallet", "rack", "forklift", "ladder"]
  industrial:
    any: ["machine", "press", "gear", "grinder", "saw", "ladder"]
  office:
    any: ["desk", "chair", "screen", "laptop", "ladder"]

# -------------------------------
# Riesgos
# -------------------------------
risks:
  # ======================
  # LOCATIVOS
  # ======================
  loc_caida_mismo_nivel:
    tipo: "LOCATIVO"
    nombre: "Caída al mismo nivel (obstáculos/derrame)"
    descripcion: "Riesgo de resbalón o tropiezo por piso mojado, cables u objetos en el paso."
    context: ["office", "warehouse", "industrial", "construction"]
    if_any: ["wet_floor", "spill", "cable", "debris", "hole", "floor_irregular", "foot_near_obstacle"]
    if_all: ["person"]
    severidad: "ALTA"
    normativa:
      - "Decreto 1072/2015 – Identificación/Control de peligros (SG-SST)."
      - "Resolución 2400/1979 – Condiciones locativas: pisos y vías."
      - "Resolución 0312/2019 – Estándares mínimos: inspecciones locativas."
    controles:
      Eliminación:
        - "Retirar de inmediato el obstáculo y limpiar el derrame."
      Ingeniería:
        - "Instalar pisos antideslizantes, canaletas o alfombras de absorción."
      Administrativos:
        - "Señalizar temporalmente ('Piso Mojado') y aplicar rutinas 5S."
      EPP:
        - "Calzado con suela antideslizante."

  loc_caida_altura_borde_abierto:
    tipo: "LOCATIVO"
    nombre: "Caída de altura por borde sin protección"
    descripcion: "Persona cerca de borde de losa/estructura sin barandas/rodapié o protección colectiva."
    context: ["construction"]
    if_any: ["edge_open", "person_on_edge"]
    if_all: []
    severidad: "CRITICA"
    normativa:
      - "Decreto 1072/2015 – Jerarquía de controles (eliminación > ingeniería > administrativos > EPP)."
      - "Resolución 2400/1979 – Protección perimetral en bordes y aberturas."
      - "Lineamientos de trabajo en alturas – protecciones colectivas y sistemas de detención."
    controles:
      Eliminación:
        - "Restringir acceso hasta instalar protección colectiva."
      Ingeniería:
        - "Barandas (>1 m), rodapié, redes de seguridad y líneas de vida."
      Administrativos:
        - "Permisos de trabajo en alturas y supervisor autorizado."
      EPP:
        - "Arnés con doble eslinga y punto de anclaje certificado."

  loc_caida_desde_escalera:
    tipo: "LOCATIVO"
    nombre: "Caída desde escalera"
    descripcion: "Uso de escalera portátil con persona sobre peldaños sin estabilización o sin tres puntos de apoyo."
    context: ["construction", "industrial", "warehouse", "office"]
    if_any: ["person_on_ladder", "ladder", "ladder_like", "ladder_unstable"]
    if_all: [""]
    severidad: "ALTA"
    normativa:
      - "Resolución 2400/1979 – Escaleras: condiciones y uso."
      - "Estándares de trabajo en alturas – inspección y uso seguro de escaleras."
    controles:
      Ingeniería:
        - "Escalera con zapatas antideslizantes y amarre/estabilizador."
      Administrativos:
        - "Mantener tres puntos de apoyo; no usar el último peldaño; ubicar en ángulo correcto."
      EPP:
        - "Calzado antideslizante; si aplica, línea de vida/arnés."


  loc_golpe_contra_objeto_fijo:
    tipo: "LOCATIVO"
    nombre: "Golpe contra objeto fijo"
    descripcion: "Impacto con estanterías, bordes o mobiliario mal ubicado en zonas de tránsito."
    context: ["warehouse", "industrial", "office"]
    if_any: ["rack", "shelf", "low_beam", "edge_open"]
    if_all: ["person"]
    severidad: "MEDIA"
    normativa:
      - "Resolución 2400/1979 – Orden/aseo y señalización."
      - "GTC 45 – Identificación y valoración de peligros."
    controles:
      Eliminación:
        - "Reubicar o retirar elementos en la ruta peatonal."
      Ingeniería:
        - "Proteger aristas con cantoneras y señalizar vigas bajas."
      Administrativos:
        - "Demarcar pasillos y realizar inspecciones semanales."

  loc_iluminacion_deficiente:
    tipo: "LOCATIVO"
    nombre: "Iluminación deficiente"
    descripcion: "Bajos niveles de lux o deslumbramientos que afectan la visibilidad."
    context: ["office", "warehouse", "industrial"]
    if_any: ["dark_area", "glare_source"]
    severidad: "MEDIA"
    normativa:
      - "NTC 4994 – Iluminación en lugares de trabajo (oficinas 300–500 lux)."
      - "Resolución 2400/1979 – Condiciones de iluminación."
    controles:
      Ingeniería:
        - "Mejorar luminarias y evitar deslumbramientos con difusores."
      Administrativos:
        - "Medir lux periódicamente y plan de mantenimiento de luminarias."

  # ======================
  # MECÁNICOS
  # ======================
  mec_atrapamiento_partes_moviles:
    tipo: "MECÁNICO"
    nombre: "Atrapamiento en partes móviles"
    descripcion: "Puntos de atrapamiento cerca de engranajes, correas o rodillos sin guarda."
    context: ["industrial", "warehouse"]
    if_any: ["exposed_gears", "moving_part", "guard_missing"]
    if_all: ["machine"]
    severidad: "CRITICA"
    normativa:
      - "Resolución 2400/1979 – Resguardos en partes móviles."
      - "Decreto 1072/2015 – Control de peligros (Jerarquía)."
      - "ISO/NTC 14120 – Guardas para maquinaria."
    controles:
      Eliminación:
        - "Sustituir equipos sin resguardos por máquinas con protección integrada."
      Ingeniería:
        - "Instalar resguardos fijos/interbloqueados y paro de emergencia."
      Administrativos:
        - "Procedimientos seguros y LOTO en mantenimiento."
      EPP:
        - "Ropa ajustada y protección visual según tarea."

  mec_golpe_vehiculo_montacargas:
    tipo: "MECÁNICO"
    nombre: "Golpe por vehículo industrial"
    descripcion: "Interacción peligrosa entre peatón y montacargas/vehículos."
    context: ["warehouse", "industrial"]
    if_any: ["forklift_moving", "vehicle_moving", "person_near_vehicle"]
    if_all: ["person"]
    severidad: "CRITICA"
    normativa:
      - "Resolución 2400/1979 – Tránsito interno y segregación de rutas."
      - "Resolución 0312/2019 – Capacitación y procedimientos."
    controles:
      Ingeniería:
        - "Rutas segregadas, alarmas acústicas/luminosas, espejos cóncavos."
      Administrativos:
        - "Velocidades máximas y certificación de operadores."
      EPP:
        - "Chaleco reflectivo en zonas de tráfico."

  mec_proyeccion_particulas:
    tipo: "MECÁNICO"
    nombre: "Proyección de partículas"
    descripcion: "Fragmentos o chispas por esmerilado/corte."
    context: ["industrial"]
    if_any: ["grinder", "saw", "cutting"]
    severidad: "ALTA"
    normativa:
      - "Resolución 2400/1979 – Guardas y pantallas."
      - "NTC 2257 – Protección ocular/facial."
    controles:
      Ingeniería:
        - "Pantallas de protección y extracción localizada."
      Administrativos:
        - "Inspección de discos/velocidades y mantenimiento."
      EPP:
        - "Gafas con protección lateral o careta."

  # ======================
  # ERGONÓMICOS (extra)
  # ======================
  ergo_flexion_cervical_pantalla_baja:
    tipo: "ERGONÓMICO"
    nombre: "Flexión cervical por pantalla baja"
    descripcion: "Cabeza inclinada por tener la pantalla por debajo de la altura de ojos."
    context: ["office"]
    if_any: ["screen_below_eyes", "laptop_on_lap"]
    if_all: ["sitting_posture"]
    severidad: "MEDIA"
    normativa:
      - "Resolución 4023/1997 – PVD (altura de pantalla a nivel de ojos)."
      - "ISO 9241 – Ergonomía de la interacción persona-sistema."
    controles:
      Ingeniería:
        - "Elevar monitor o usar soporte para laptop."
      Administrativos:
        - "Capacitar en ajuste del puesto de trabajo."

  ergo_postura_sedentaria_prolongada:
    tipo: "ERGONÓMICO"
    nombre: "Postura sedentaria prolongada"
    descripcion: "Permanencia sentada por tiempo extendido sin pausas activas."
    context: ["office"]
    if_any: ["sitting_posture"]
    severidad: "BAJA"
    normativa:
      - "Resolución 4023/1997 – Pausas cada ~2 horas frente a PVD."
    controles:
      Administrativos:
        - "Pausas activas programadas, alternar tareas, micro-pausas."
